<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codificador Base64 - MyTools</title>
    <meta name="description" content="Codifique e decodifique textos em Base64 de forma r√°pida e segura. Ferramenta gratuita para encoding e decoding Base64.">
    <meta name="keywords" content="base64, codificar, decodificar, encoding, decoding, conversor base64">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicon.ico">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1B0YZFHHQC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1B0YZFHHQC');
    </script>
    
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <img src="../assets/img/logo.png" alt="Blue toolbox with a wrench symbol on the front, positioned to the left of the words MyTools written in large friendly letters. The logo conveys a helpful and approachable atmosphere for an online tools website." class="logo-image">
            </a>
            <button class="nav-toggle" aria-label="Abrir menu">‚ò∞</button>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="../index.html" class="nav-link" data-i18n="nav.home">In√≠cio</a></li>
                    <li><a href="../about.html" class="nav-link" data-i18n="nav.about">Sobre</a></li>
                    <li><a href="../contact.html" class="nav-link" data-i18n="nav.contact">Contato</a></li>
                </ul>
                <div class="search-container">
                    <!-- Language selector will be inserted here -->
                </div>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="hero">
            <h1 data-i18n="base64.title">üîê Codificador Base64</h1>
            <p data-i18n="base64.subtitle">Codifique e decodifique textos em Base64 de forma r√°pida e segura</p>
        </div>

        <div class="form-container">
            <div class="form-group">
                <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                    <button id="encodeBtn" class="btn btn-primary" onclick="setMode('encode')" data-i18n="base64.encode">Codificar</button>
                    <button id="decodeBtn" class="btn btn-secondary" onclick="setMode('decode')" data-i18n="base64.decode">Decodificar</button>
                </div>
            </div>

            <div class="form-group">
                <label for="inputText" class="form-label" id="inputLabel" data-i18n="base64.inputText">Texto para codificar:</label>
                <textarea id="inputText" class="form-textarea" data-i18n-placeholder="base64.inputPlaceholder" placeholder="Digite o texto aqui..." rows="6"></textarea>
            </div>

            <div class="form-group">
                <button onclick="processText()" class="btn btn-primary btn-full" id="processBtn" data-i18n="base64.encode">Codificar</button>
            </div>

            <div class="form-group">
                <label for="outputText" class="form-label" id="outputLabel" data-i18n="base64.outputText">Resultado:</label>
                <textarea id="outputText" class="form-textarea" data-i18n-placeholder="base64.outputPlaceholder" placeholder="O resultado aparecer√° aqui..." rows="6" readonly></textarea>
            </div>

            <div class="result-actions">
                <button onclick="copyResult()" class="btn btn-secondary" data-i18n="base64.copyResult">Copiar Resultado</button>
                <button onclick="swapTextAreas()" class="btn btn-secondary" data-i18n="base64.swap">Trocar ‚áÖ</button>
                <button onclick="clearAll()" class="btn btn-secondary" data-i18n="base64.clear">Limpar Tudo</button>
            </div>
        </div>

        <div class="form-container">
            <h3 data-i18n="base64.fileSection">Codifica√ß√£o/Decodifica√ß√£o de Arquivos</h3>
            <div class="form-group">
                <label for="fileInput" class="form-label" data-i18n="base64.selectFile">Selecionar arquivo:</label>
                <input type="file" id="fileInput" class="form-input" accept=".txt,.json,.xml,.csv,.log">
            </div>
            <div class="form-group">
                <button onclick="processFile()" class="btn btn-primary btn-full" data-i18n="base64.processFile">Processar Arquivo</button>
            </div>
            <div class="form-group">
                <label for="fileOutput" class="form-label" data-i18n="base64.fileResult">Resultado do arquivo:</label>
                <textarea id="fileOutput" class="form-textarea" rows="4" readonly data-i18n-placeholder="base64.fileResultPlaceholder" placeholder="O resultado do arquivo aparecer√° aqui..."></textarea>
            </div>
            <div class="result-actions">
                <button onclick="copyFileResult()" class="btn btn-secondary" data-i18n="base64.copy">Copiar</button>
                <button onclick="downloadResult()" class="btn btn-secondary" data-i18n="base64.download">Download</button>
            </div>
        </div>

        <div class="form-container">
            <h3 data-i18n="base64.aboutSection">Sobre Base64</h3>
            <p data-i18n="base64.aboutDescription">Base64 √© um m√©todo de codifica√ß√£o que converte dados bin√°rios em texto ASCII usando 64 caracteres espec√≠ficos (A-Z, a-z, 0-9, +, /).</p>
            
            <h4 data-i18n="base64.whenToUse">Quando usar Base64:</h4>
            <ul>
                <li><strong data-i18n="base64.dataTransmission">Transmiss√£o de dados:</strong> <span data-i18n="base64.dataTransmissionDesc">Para enviar dados bin√°rios por protocolos que s√≥ aceitam texto</span></li>
                <li><strong data-i18n="base64.urlsEmails">URLs e emails:</strong> <span data-i18n="base64.urlsEmailsDesc">Para incluir dados em URLs ou emails sem quebrar a formata√ß√£o</span></li>
                <li><strong data-i18n="base64.storage">Armazenamento:</strong> <span data-i18n="base64.storageDesc">Para salvar dados bin√°rios em bancos de dados que s√≥ aceitam texto</span></li>
                <li><strong data-i18n="base64.apis">APIs:</strong> <span data-i18n="base64.apisDesc">Muitas APIs usam Base64 para transmitir imagens e outros arquivos</span></li>
            </ul>

            <h4 data-i18n="base64.characteristics">Caracter√≠sticas:</h4>
            <ul>
                <li data-i18n="base64.notEncryption">N√£o √© criptografia - √© apenas codifica√ß√£o</li>
                <li data-i18n="base64.sizeIncrease">Aumenta o tamanho do dados em aproximadamente 33%</li>
                <li data-i18n="base64.reversible">√â revers√≠vel - voc√™ pode sempre decodificar de volta</li>
                <li data-i18n="base64.urlSafe">√â seguro para URLs e sistemas que n√£o suportam caracteres especiais</li>
            </ul>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4 data-i18n="footer.tools">Ferramentas</h4>
                    <ul class="footer-links">
                        <li><a href="converter-temperatura.html" data-i18n="footer.temperatureConverter">Conversor de Temperatura</a></li>
                        <li><a href="converter-medidas.html" data-i18n="footer.unitConverter">Conversor de Medidas</a></li>
                        <li><a href="texto-maiusculas-minusculas.html" data-i18n="footer.textCase">Mai√∫sculas/Min√∫sculas</a></li>
                        <li><a href="contador-texto.html" data-i18n="footer.textCounter">Contador de Texto</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.generators">Geradores</h4>
                    <ul class="footer-links">
                        <li><a href="gerar-qr-code.html" data-i18n="footer.qrGenerator">Gerador QR Code</a></li>
                        <li><a href="gerador-md5.html" data-i18n="footer.md5Generator">Gerador MD5</a></li>
                        <li><a href="codificador-base64.html" data-i18n="footer.base64">Base64</a></li>
                        <li><a href="timestamp-converter.html" data-i18n="footer.timestamp">Timestamp</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.about">Sobre</h4>
                    <ul class="footer-links">
                        <li><a href="../about.html" data-i18n="footer.aboutUs">Sobre N√≥s</a></li>
                        <li><a href="../contact.html" data-i18n="footer.contact">Contato</a></li>
                        <li><a href="../privacy.html" data-i18n="footer.privacy">Privacidade</a></li>
                        <li><a href="../terms.html" data-i18n="footer.terms">Termos de Uso</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.mytools">MyTools</h4>
                    <p data-i18n="footer.description">Ferramentas √∫teis e gratuitas para facilitar seu dia a dia.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MyTools. <span data-i18n="footer.rights">Todos os direitos reservados.</span></p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/i18n.js"></script>
    <script>
        let currentMode = 'encode';

        function setMode(mode) {
            currentMode = mode;
            const encodeBtn = document.getElementById('encodeBtn');
            const decodeBtn = document.getElementById('decodeBtn');
            const inputLabel = document.getElementById('inputLabel');
            const outputLabel = document.getElementById('outputLabel');
            const processBtn = document.getElementById('processBtn');
            const inputText = document.getElementById('inputText');

            if (mode === 'encode') {
                encodeBtn.className = 'btn btn-primary';
                decodeBtn.className = 'btn btn-secondary';
                
                // Use translations if available
                if (window.i18nInstance) {
                    inputLabel.textContent = window.i18nInstance.t('base64.inputTextEncode');
                    outputLabel.textContent = window.i18nInstance.t('base64.outputTextEncode');
                    processBtn.textContent = window.i18nInstance.t('base64.encode');
                    inputText.placeholder = window.i18nInstance.t('base64.inputPlaceholderEncode');
                } else {
                    inputLabel.textContent = 'Texto para codificar:';
                    outputLabel.textContent = 'Base64 codificado:';
                    processBtn.textContent = 'Codificar';
                    inputText.placeholder = 'Digite o texto aqui...';
                }
            } else {
                encodeBtn.className = 'btn btn-secondary';
                decodeBtn.className = 'btn btn-primary';
                
                // Use translations if available
                if (window.i18nInstance) {
                    inputLabel.textContent = window.i18nInstance.t('base64.inputTextDecode');
                    outputLabel.textContent = window.i18nInstance.t('base64.outputTextDecode');
                    processBtn.textContent = window.i18nInstance.t('base64.decode');
                    inputText.placeholder = window.i18nInstance.t('base64.inputPlaceholderDecode');
                } else {
                    inputLabel.textContent = 'Base64 para decodificar:';
                    outputLabel.textContent = 'Texto decodificado:';
                    processBtn.textContent = 'Decodificar';
                    inputText.placeholder = 'Cole o Base64 aqui...';
                }
            }

            // Auto process if there's content
            const inputValue = inputText.value;
            if (inputValue.trim()) {
                processText();
            }
        }

        function processText() {
            const inputText = document.getElementById('inputText').value;
            const outputText = document.getElementById('outputText');

            if (!inputText.trim()) {
                outputText.value = '';
                return;
            }

            try {
                if (currentMode === 'encode') {
                    // Encode to Base64
                    const encoded = btoa(unescape(encodeURIComponent(inputText)));
                    outputText.value = encoded;
                } else {
                    // Decode from Base64
                    const decoded = decodeURIComponent(escape(atob(inputText)));
                    outputText.value = decoded;
                }
            } catch (error) {
                if (currentMode === 'decode') {
                    outputText.value = 'Erro: Base64 inv√°lido. Verifique se o texto est√° correto.';
                } else {
                    outputText.value = 'Erro ao codificar o texto.';
                }
            }
        }

        function copyResult() {
            const outputText = document.getElementById('outputText').value;
            if (outputText) {
                copyToClipboard(outputText);
            }
        }

        function swapTextAreas() {
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            
            const temp = inputText.value;
            inputText.value = outputText.value;
            outputText.value = temp;

            // Switch mode
            setMode(currentMode === 'encode' ? 'decode' : 'encode');
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            document.getElementById('fileOutput').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('inputText').focus();
        }

        function processFile() {
            const fileInput = document.getElementById('fileInput');
            const fileOutput = document.getElementById('fileOutput');
            
            if (!fileInput.files[0]) {
                alert('Por favor, selecione um arquivo.');
                return;
            }

            const file = fileInput.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    if (currentMode === 'encode') {
                        const encoded = btoa(unescape(encodeURIComponent(content)));
                        fileOutput.value = encoded;
                    } else {
                        const decoded = decodeURIComponent(escape(atob(content)));
                        fileOutput.value = decoded;
                    }
                } catch (error) {
                    fileOutput.value = 'Erro ao processar arquivo. Verifique se √© um arquivo de texto v√°lido.';
                }
            };

            reader.readAsText(file);
        }

        function copyFileResult() {
            const fileOutput = document.getElementById('fileOutput').value;
            if (fileOutput) {
                copyToClipboard(fileOutput);
            }
        }

        function downloadResult() {
            const fileOutput = document.getElementById('fileOutput').value;
            if (!fileOutput) {
                alert('Nenhum resultado para download.');
                return;
            }

            const blob = new Blob([fileOutput], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = currentMode === 'encode' ? 'encoded_base64.txt' : 'decoded_text.txt';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Auto process on input
        document.getElementById('inputText').addEventListener('input', function() {
            if (this.value.trim()) {
                processText();
            } else {
                document.getElementById('outputText').value = '';
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize i18n
            const i18n = new I18n();
            window.i18nInstance = i18n;
            i18n.init();
            
            // Listen for language changes
            document.addEventListener('languageChanged', function() {
                setMode(currentMode); // Refresh labels when language changes
            });
            
            setMode('encode');
            document.getElementById('inputText').focus();
        });
    </script>
</body>
</html>
